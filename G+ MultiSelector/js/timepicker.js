var timePickers=new Array();function TimePicker(f,e,a,c,b){this.d=f;this.h=e;this.m=a;this.s=c;this.el=b.attr("id");this.dSelect;this.hSelect;this.mSelect;this.sSelect;this.include=function(d){d.html('<div class="tp-main" uid="tp-main-'+this.el+'"><div uid="tp-header-'+this.el+'" class="tp-header"><p uid="tp-closer-'+this.el+'">x</p></div>'+this.getSelect(30,this.d,"d")+"days"+this.getSelect(24,this.h,"h")+"hours"+this.getSelect(60,this.m,"m")+'minutes</div><p class="tp-string"  uid="tp-string-'+this.el+'">'+this.d+"d"+twoDigitsNumber(this.h)+"h"+twoDigitsNumber(this.m)+"m</p>");this.init()};this.init=function(){$('p[uid="tp-string-'+this.el+'"]').click(function(i){var d=$(i.target).attr("uid");var h=new RegExp("[-]+","g");var g=d.split(h);var j=getTimePicker(g[2]);j.open(500)});$('p[uid="tp-closer-'+this.el+'"]').click(function(i){var d=$(i.target).attr("uid");var h=new RegExp("[-]+","g");var g=d.split(h);var j=getTimePicker(g[2]);j.close()});$('select[uid="'+this.el+'"]').change(function(d){var g=getTimePicker($(d.target).attr("uid"));g.updateProps($(d.target).attr("tv"),d.target.value)});$('div[uid="tp-main-'+this.el+'"]').click(function(d){d.stopPropagation()});$('p[uid="tp-string-'+this.el+'"]').click(function(d){d.stopPropagation()});$('div[uid="tp-header-'+this.el+'"]').click(function(d){d.stopPropagation()})};this.updateProps=function(d,g){switch(d){case"d":this.d=g;break;case"h":this.h=g;break;case"m":this.m=g;break;case"s":this.s=g;break}this.include($("#"+this.el));this.open(0)};this.getSelect=function(d,j,k){var h='<select uid="'+this.el+'" tv="'+k+'" class="tp-select">';for(var g=0;g<d;g++){h+='<option value="'+g+'"';if(g==j){h+=' selected="true"'}h+=">"+g+"</option>"}h+="</select>";return h};this.open=function(d){var g=$('p[uid="tp-string-'+this.el+'"]');$('div[uid="tp-main-'+this.el+'"]').show(d);$('div[uid="tp-main-'+this.el+'"]').offset({top:g.offset().top+g.height(),left:g.offset().left+g.width()/2-125})};this.close=function(){$('div[uid="tp-main-'+this.el+'"]').hide("slow")};this.getTime=function(){return this.d*86400+this.h*3600+this.m*60+this.s};this.setTime=function(d){var g=splitTime(d/1000);this.d=g[0];this.h=g[1];this.m=g[2];this.s=g[3]};timePickers.push(this);this.include(b)}function getTimePicker(b){for(var a=0;a<timePickers.length;a++){if(timePickers[a].el==b){return timePickers[a]}}}function splitTime(e){var f=parseInt(e);var d=0;var c=0;var b=0;var a=new Array();if(f>=60){d=f/60;f=f%60}if(d>=60){c=d/60;d=d%60}if(c>=24){b=c/24;c=c%24}a.push(Math.floor(b));a.push(Math.floor(c));a.push(Math.floor(d));a.push(Math.floor(f));return a}$("html").click(function(b){for(var a=0;a<timePickers.length;a++){timePickers[a].close()}});