var NumericStepper={register:function(c,g,h,a){this.minValue=g;this.maxValue=h;this.stepSize=a;var f=getElementsByClassName(document,"*",c);for(var d=0;d<f.length;d++){var b=f[d].getElementsByTagName("input")[0];if(b){var e=f[d].getElementsByTagName("button");if(b.value==undefined||b.value==""||isNaN(b.value)){b.value=0}b.next=(e[0]?e[0]:null);b.onkeypress=function(i){var j=(window.event?event.keyCode:(i.which?i.which:null));keychar=String.fromCharCode(j);numcheck=/[0-9\-.]/;switch(j){case NumericStepper.keys.BACKSPACE:case NumericStepper.keys.TAB:case null:return true;default:return numcheck.test(keychar)}};b.onkeyup=function(i){};b.onblur=function(i){if(parseFloat(this.value)<NumericStepper.minValue){this.value=NumericStepper.minValue}if(parseFloat(this.value)>NumericStepper.maxValue){this.value=NumericStepper.maxValue}};b.autocomplete="off";if(e[0]){this.addButtonEvent(e[0],b,this.stepUp,{next:e[1],prev:b})}if(e[1]){this.addButtonEvent(e[1],b,this.stepDown,{next:null,prev:e[0]})}}}},addButtonEvent:function(d,b,c,a){d.textbox=b;d.moveTo=a;if(d.getAttribute("type")=="submit"){d.removeAttribute("type");d.setAttribute("type","button")}d.onclick=c;d.onkeyup=function(f){var g=(window.event?event.keyCode:(f.which?f.which:null));switch(g){case NumericStepper.keys.UP_ARROW:case NumericStepper.keys.LEFT_ARROW:if(this.moveTo.prev&&typeof this.moveTo.prev=="object"){this.moveTo.prev.focus()}break;case NumericStepper.keys.DOWN_ARROW:case NumericStepper.keys.RIGHT_ARROW:if(this.moveTo.next&&typeof this.moveTo.next=="object"){this.moveTo.next.focus()}break}}},stepUp:function(){var a=NumericStepper.stepSize;if(this.textbox.value<1){a=NumericStepper.stepSize/10}NumericStepper.stepper(this.textbox,a)},stepDown:function(){var a=-NumericStepper.stepSize;if(this.textbox.value<=1){a=-NumericStepper.stepSize/10}NumericStepper.stepper(this.textbox,a)},stepper:function(a,b){if(a==undefined){return false}if(b==undefined||isNaN(b)){b=1}if(a.value==undefined||a.value==""||isNaN(a.value)){a.value=0}a.value=parseFloat(a.value)+parseFloat(b);if(parseFloat(a.value)<NumericStepper.minValue){a.value=NumericStepper.minValue}if(parseFloat(a.value)>NumericStepper.maxValue){a.value=NumericStepper.maxValue}if(parseFloat(a.value)>1){a.value=Math.round(a.value)}else{a.value=Math.round(a.value*10)/10}},keys:{BACKSPACE:8,TAB:9,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40}};function initNumericStepper(){var a=NumericStepper.register("numeric-stepper",0,100,1)}function getElementsByClassName(b,f,a){var e=(f=="*"&&b.all)?b.all:b.getElementsByTagName(f);var h=new Array();a=a.replace(/-/g,"-");var g=new RegExp("(^|s)"+a+"(s|$)");var d;for(var c=0;c<e.length;c++){d=e[c];if(g.test(d.className)){h.push(d)}}return(h)}function addEvent(d,a,c){var b=false;if(d.addEventListener){d.addEventListener(a,c,false);b=true}else{if(d.attachEvent){b=d.attachEvent("on"+a,c)}}return b};